<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>C·ª•c v√†ng üíò</title>
  <style>
    :root{
      --bg:#fff0f5;
      --card:#ffffff;
      --accent:#ff4d6d;
      --text:#222;
      --muted:#666;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      height:100vh;
      display:grid;
      place-items:center;
      background:var(--bg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
      overflow:hidden;
      color:var(--text);
    }
    .card{
      width:min(760px, 92vw);
      background:rgba(255,255,255,.92);
      border-radius:22px;
      box-shadow:0 14px 40px rgba(0,0,0,.12);
      padding:18px 18px 16px;
      border:1px solid rgba(0,0,0,.06);
    }
    .top{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:14px;
      align-items:stretch;
    }
    @media (max-width: 780px){
      .top{grid-template-columns:1fr}
    }
    h1{margin:0 0 8px; font-size:28px}
    p{margin:0 0 12px; color:var(--muted); line-height:1.5}
    .btns{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    button{
      border:0; border-radius:999px; padding:12px 16px;
      font-weight:800; cursor:pointer;
      transition: transform .06s ease, filter .12s ease;
    }
    button:active{transform:scale(.98)}
    #yes{background:var(--accent); color:#fff}
    #no{background:#eee}
    .msg{
      margin-top:12px;
      padding:12px 14px;
      border-radius:16px;
      background:#fff;
      border:1px solid rgba(0,0,0,.06);
      min-height:54px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      font-size:16px;
    }

    /* Gallery */
    .gallery{
      border-radius:18px;
      overflow:hidden;
      border:1px solid rgba(0,0,0,.06);
      background:#fff;
      display:grid;
      grid-template-rows: auto 1fr;
      min-height:320px;
    }
    .hero{
      position:relative;
      aspect-ratio: 4 / 3;
      background:#f6f6f6;
    }
    .hero img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
    }
    .badge{
      position:absolute;
      top:10px; left:10px;
      background:rgba(255,77,109,.9);
      color:#fff;
      padding:8px 10px;
      border-radius:999px;
      font-weight:800;
      font-size:12px;
      letter-spacing:.2px;
    }
    .thumbs{
      display:flex;
      gap:8px;
      padding:10px;
      overflow:auto;
      background:rgba(255,255,255,.85);
    }
    .thumbs img{
      width:64px; height:64px;
      object-fit:cover;
      border-radius:12px;
      border:2px solid transparent;
      cursor:pointer;
      flex:0 0 auto;
      opacity:.9;
      transition: .12s ease;
    }
    .thumbs img:hover{opacity:1; transform:translateY(-1px)}
    .thumbs img.active{border-color: var(--accent); opacity:1}

    /* Floating hearts */
    .heart{
      position:fixed;
      bottom:-20px;
      font-size:18px;
      opacity:0;
      animation: floatUp 4.2s ease-in forwards;
      pointer-events:none;
      user-select:none;
      filter: drop-shadow(0 6px 12px rgba(0,0,0,.15));
      z-index: 10;
    }
    @keyframes floatUp{
      0%{transform:translateY(0) scale(.9); opacity:0}
      10%{opacity:1}
      100%{transform:translateY(-110vh) scale(1.25); opacity:0}
    }

    /* Overlay (Yes) */
    .overlay{
      position:fixed; inset:0;
      display:none;
      place-items:center;
      background: rgba(0,0,0,.45);
      z-index: 999;
      padding:18px;
    }
    .overlay.show{display:grid}
    .panel{
      width:min(860px, 96vw);
      background: rgba(255,255,255,.92);
      backdrop-filter: blur(10px);
      border:1px solid rgba(255,255,255,.4);
      border-radius:26px;
      box-shadow:0 18px 60px rgba(0,0,0,.25);
      overflow:hidden;
      transform: translateY(8px);
      animation: pop .22s ease-out forwards;
    }
    @keyframes pop{
      to{transform: translateY(0)}
    }
    .panelTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 16px;
      border-bottom:1px solid rgba(0,0,0,.06);
    }
    .title{
      font-weight:900;
      font-size:16px;
      display:flex; gap:8px; align-items:center;
    }
    .closeBtn{
      background:#f2f2f2;
      padding:10px 12px;
      border-radius:999px;
      font-weight:900;
    }
    .panelBody{
      display:grid;
      grid-template-columns: 1fr .9fr;
      gap:0;
    }
    @media (max-width: 820px){
      .panelBody{grid-template-columns:1fr}
    }
    .bigPhoto{
      position:relative;
      background:#000;
      min-height:360px;
    }
    .bigPhoto img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      opacity:.98;
    }
    .photoTag{
      position:absolute; left:14px; bottom:14px;
      background: rgba(255,77,109,.9);
      color:white;
      padding:9px 12px;
      border-radius:999px;
      font-weight:900;
      font-size:13px;
    }
    .right{
      padding:16px 16px 18px;
    }
    .right h2{margin:0 0 8px; font-size:22px}
    .right p{margin:0 0 10px}
    .miniBtns{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px}
    .miniBtns button{padding:11px 14px}
    .letterBox{
                margin-top:12px;
                border-radius:18px;
                background:#fff;
                border:1px solid rgba(0,0,0,.06);
                padding:12px 12px;
                line-height:1.55;
                color:#333;
                white-space:pre-wrap;

                max-height: 240px;          /* ch·ªânh tu·ª≥ √Ω */
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                }

                /* scrollbar (Chrome/Edge) */
                .letterBox::-webkit-scrollbar{ width:10px; }
                .letterBox::-webkit-scrollbar-thumb{
                background: rgba(255,77,109,.35);
                border-radius: 999px;
                border: 3px solid #fff;
                }
.letterBox::-webkit-scrollbar-track{ background: transparent; }

    .hint{font-size:12px; color:#888; margin-top:8px}

    /* confetti dots (simple) */
    .dot{
      position:fixed;
      width:8px; height:8px;
      border-radius:999px;
      opacity:0;
      animation: dotPop 1.1s ease-out forwards;
      z-index: 1000;
      pointer-events:none;
    }
    @keyframes dotPop{
      0%{transform:translate(0,0) scale(.8); opacity:0}
      10%{opacity:1}
      100%{transform:translate(var(--dx), var(--dy)) scale(1.1); opacity:0}
    }

    .footer{
      margin-top:10px;
      font-size:12px;
      color:#888;
      text-align:center;
    }
  </style>
</head>

<body>
  <div class="card">
    <div class="top">
      <div>
        <h1>C·ª•c v√†ng c√≥ ƒë·ªìng √Ω l√†m Valentine c·ªßa anh Ben kh√¥ng? üíò</h1>
        <p>
          Anh Ben kh√¥ng gi·ªèi n√≥i l·ªùi hoa m·ªπ‚Ä¶ n√™n anh vi·∫øt m·ªôt c√°i website nh·ªè cho c·ª•c v√†ng n√® üòÜ
          M·∫•y t·∫•m h√¨nh b√™n kia l√† kho·∫£nh kh·∫Øc c·ªßa t·ª•i m√¨nh ƒë√≥ üåπ
        </p>

        <div class="btns">
          <button id="yes">Yes üíñ</button>
          <button id="no">No üôÉ</button>
        </div>

        <div class="msg" id="msg">B·∫•m th·ª≠ ƒëi n√® üòÑ</div>
        <div class="footer">‚Äî Anh Ben üíñ</div>
      </div>

      <div class="gallery">
        <div class="hero">
          <div class="badge">Our moments ‚ú®</div>
          <img id="heroImg" src="images/1.jpg" alt="memory" />
        </div>
        <div class="thumbs" id="thumbs"></div>
      </div>
    </div>
  </div>

  <!-- Overlay -->
  <div class="overlay" id="overlay" aria-hidden="true">
    <div class="panel" role="dialog" aria-modal="true">
      <div class="panelTop">
        <div class="title">üíò Officially Valentine c·ªßa anh Ben</div>
        <button class="closeBtn" id="closeOverlay">ƒê√≥ng ‚ú®</button>
      </div>

      <div class="panelBody">
        <div class="bigPhoto">
          <img id="overlayImg" src="images/1.jpg" alt="love" />
          <div class="photoTag" id="photoTag">C·ª•c v√†ng c·ªßa anh Ben ü•∫</div>
        </div>

        <div class="right">
          <h2>Thu·∫≠n ∆°i‚Ä¶</h2>
          <p id="overlayLine" style="font-weight:800; color:#ff4d6d">
            Anh bi·∫øt m√† üòéüíñ
          </p>

          <div class="miniBtns">
            <button id="nextPhoto" class="ghost">ƒê·ªïi ·∫£nh üì∏</button>
            <button id="openLetter" class="primary">M·ªü th∆∞ üíå</button>
          </div>

          <div class="letterBox" id="letterBox">B·∫•m ‚ÄúM·ªü th∆∞‚Äù ƒë·ªÉ anh Ben n√≥i m·ªôt ch√∫t nha‚Ä¶</div>
          <div class="hint">Tip: N·∫øu c·ª•c v√†ng ƒë·ªçc xong, b·∫•m ‚Äúƒê·ªïi ·∫£nh‚Äù xem th√™m kho·∫£nh kh·∫Øc ‚ú®</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // =================== CH·ªàNH ·ªû ƒê√ÇY ===================
    const IMAGES = [
      "images/1.jpg",
      "images/2.jpg",
      "images/3.jpg",
      "images/4.jpg",
    ];

    const YES_LINES = [
      "Anh bi·∫øt m√† üòéüíñ",
      "C·ª•c v√†ng c·ªßa anh Ben d·ªÖ th∆∞∆°ng nh·∫•t lu√¥n ƒë√≥ ü•∫",
      "T·ªëi nay anh Ben mu·ªën d·∫´n c·ª•c v√†ng ƒëi h·∫πn h√≤ m√† ph·∫£i ph·ª• m·∫π r·ªìii üåπ",
      "C·∫£m ∆°n em v√¨ ƒë√£ ·ªü c·∫°nh anh Ben ‚ù§Ô∏è",
      "Anh Ben th∆∞∆°ng c·ª•c v√†ng nhi·ªÅu l·∫Øm, thi·ªát lu√¥n üíò",
      "Valentine n√†y v√† c·∫£ nhi·ªÅu Valentine sau n·ªØa nha ‚ú®"
    ];

    const LETTER = [
  "C·ª•c v√†ng c·ªßa anh Ben √†‚Ä¶",
  "",
  "Anh ƒë√£ nghƒ© kh√° l√¢u tr∆∞·ªõc khi vi·∫øt nh·ªØng d√≤ng n√†y.",
  "Kh√¥ng ph·∫£i v√¨ anh kh√¥ng bi·∫øt m√¨nh c·∫£m th·∫•y g√¨,",
  "m√† v√¨ anh mu·ªën n√≥i ra m·ªôt c√°ch nghi√™m t√∫c nh·∫•t.",
  "",
  "Anh kh√¥ng tin v√†o nh·ªØng l·ªùi h·ª©a qu√° ho√†n h·∫£o.",
  "Anh tin v√†o vi·ªác ch·ªçn nhau ·ªü l·∫°i, ngay c·∫£ khi m·ªçi th·ª© kh√¥ng d·ªÖ d√†ng.",
  "",
  "Anh bi·∫øt anh kh√¥ng ph·∫£i phi√™n b·∫£n t·ªët nh·∫•t c·ªßa m·ªôt ng∆∞·ªùi ƒë√†n √¥ng.",
  "Nh∆∞ng t·ª´ ng√†y c√≥ em, anh b·∫Øt ƒë·∫ßu mu·ªën tr·ªü th√†nh phi√™n b·∫£n t·ªët h∆°n.",
  "Kh√¥ng ph·∫£i v√¨ √°p l·ª±c.",
  "M√† v√¨ anh th·∫•y t∆∞∆°ng lai c·ªßa m√¨nh c√≥ em trong ƒë√≥.",
  "",
  "C·∫£m ∆°n em ƒë√£ ƒë·∫øn khi anh c√≤n nhi·ªÅu thi·∫øu s√≥t.",
  "C·∫£m ∆°n em ƒë√£ ki√™n nh·∫´n v·ªõi nh·ªØng l·∫ßn anh im l·∫∑ng thay v√¨ gi·∫£i th√≠ch.",
  "V√† c·∫£m ∆°n em v√¨ ƒë√£ kh√¥ng r·ªùi ƒëi.",
  "",
  "T√¨nh y√™u v·ªõi anh kh√¥ng ph·∫£i l√† ƒëi·ªÅu ·ªìn √†o.",
  "N√≥ l√† c·∫£m gi√°c b√¨nh y√™n khi nghƒ© v·ªÅ em.",
  "L√† vi·ªác d√π c√≥ chuy·ªán g√¨ x·∫£y ra,",
  "anh v·∫´n mu·ªën quay v·ªÅ ph√≠a em.",
  "",
  "Anh kh√¥ng h·ª©a m·ªçi ng√†y ƒë·ªÅu r·ª±c r·ª°.",
  "Nh∆∞ng anh h·ª©a s·∫Ω kh√¥ng ƒë·ªÉ em m·ªôt m√¨nh trong nh·ªØng ng√†y t·ªëi.",
  "",
  "V√† n·∫øu c√≥ ai h·ªèi anh ƒëi·ªÅu ch·∫Øc ch·∫Øn nh·∫•t h√¥m nay l√† g√¨,",
  "th√¨ ƒë√≥ l√†: anh Ben th∆∞∆°ng c·ª•c v√†ng r·∫•t nhi·ªÅu.",
  "",
  "Valentine n√†y kh√¥ng ch·ªâ l√† m·ªôt ng√†y.",
  "Anh mong n√≥ l√† m·ªôt c·ªôt m·ªëc nh·ªè trong m·ªôt h√†nh tr√¨nh r·∫•t d√†i c·ªßa hai m√¨nh.",
  "",
  "‚Äî Anh Ben üíñ"
].join("\n");

    // ====================================================

    const noBtn = document.getElementById("no");
    const yesBtn = document.getElementById("yes");
    const msg = document.getElementById("msg");
    const heroImg = document.getElementById("heroImg");
    const thumbs = document.getElementById("thumbs");

    const overlay = document.getElementById("overlay");
    const closeOverlay = document.getElementById("closeOverlay");
    const overlayImg = document.getElementById("overlayImg");
    const overlayLine = document.getElementById("overlayLine");
    const nextPhoto = document.getElementById("nextPhoto");
    const openLetter = document.getElementById("openLetter");
    const letterBox = document.getElementById("letterBox");

    // Build thumbnails
    IMAGES.forEach((src, i) => {
      const img = document.createElement("img");
      img.src = src;
      img.alt = "thumb " + (i+1);
      if(i === 0) img.classList.add("active");
      img.addEventListener("click", () => setHero(i));
      thumbs.appendChild(img);
    });

    function setHero(index){
      heroImg.src = IMAGES[index];
      [...thumbs.querySelectorAll("img")].forEach((t, idx) => {
        t.classList.toggle("active", idx === index);
      });
      burstHearts(8);
    }

    // Auto slideshow (main card)
    let slide = 0;
    setInterval(() => {
      slide = (slide + 1) % IMAGES.length;
      setHero(slide);
    }, 4500);

    // No button runs away
    let noCount = 0;
    noBtn.addEventListener("mouseenter", () => {
      const padding = 20;
      const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - padding);
      const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - padding);

      noBtn.style.position = "fixed";
      noBtn.style.left = Math.max(padding, x) + "px";
      noBtn.style.top  = Math.max(padding, y) + "px";

      noCount++;
      if(noCount >= 3) noBtn.textContent = "Kh√¥ng tho√°t ƒë√¢u üòÜ";
    });

    // YES -> open overlay
    yesBtn.addEventListener("click", () => {
      const line = YES_LINES[Math.floor(Math.random()*YES_LINES.length)];
      msg.textContent = line;
      openOverlay(line);
    });

    function openOverlay(line){
      overlay.classList.add("show");
      overlay.setAttribute("aria-hidden","false");
      document.body.style.background = "#ffe5ec";
      overlayLine.textContent = line;
      overlayImg.src = heroImg.src || IMAGES[0];
      letterBox.textContent = "B·∫•m ‚ÄúM·ªü th∆∞‚Äù ƒë·ªÉ anh Ben n√≥i m·ªôt ch√∫t nha‚Ä¶";
      burstHearts(24);
      popDots(28);
    }

    function closeIt(){
      overlay.classList.remove("show");
      overlay.setAttribute("aria-hidden","true");
      burstHearts(8);
    }
    closeOverlay.addEventListener("click", closeIt);
    overlay.addEventListener("click", (e) => {
      if(e.target === overlay) closeIt();
    });
    window.addEventListener("keydown", (e) => {
      if(e.key === "Escape" && overlay.classList.contains("show")) closeIt();
    });

    // Overlay: next photo
    let overlayIdx = 0;
    nextPhoto.addEventListener("click", () => {
      overlayIdx = (overlayIdx + 1) % IMAGES.length;
      overlayImg.src = IMAGES[overlayIdx];
      overlayLine.textContent = YES_LINES[Math.floor(Math.random()*YES_LINES.length)];
      burstHearts(14);
      popDots(16);
    });

    // Typewriter letter
    openLetter.addEventListener("click", () => {
      typewriter(letterBox, LETTER, 18);
      burstHearts(18);
      popDots(20);
    });

    function typewriter(el, text, speedMs){
      el.textContent = "";
      let i = 0;
      const timer = setInterval(() => {
        el.textContent += text[i] ?? "";
        i++;
        if(i >= text.length) clearInterval(timer);
      }, speedMs);
    }

    function burstHearts(n=10){
      const icons = ["üíñ","üíï","üíò","‚ù§Ô∏è","üåπ"];
      for(let i=0;i<n;i++){
        const h = document.createElement("div");
        h.className = "heart";
        h.textContent = icons[Math.floor(Math.random()*icons.length)];
        h.style.left = (Math.random()*100) + "vw";
        h.style.animationDelay = (Math.random()*0.25) + "s";
        h.style.fontSize = (14 + Math.random()*22) + "px";
        document.body.appendChild(h);
        setTimeout(()=>h.remove(), 5000);
      }
    }

    // Simple confetti dots (no library)
    function popDots(n=20){
      for(let i=0;i<n;i++){
        const d = document.createElement("div");
        d.className = "dot";
        const x = (window.innerWidth * 0.5) + (Math.random()*220 - 110);
        const y = (window.innerHeight * 0.45) + (Math.random()*160 - 80);
        d.style.left = x + "px";
        d.style.top  = y + "px";
        d.style.background = ["#ff4d6d","#ff8fab","#ffd6e0","#ffb3c6","#ffa3b5"][Math.floor(Math.random()*5)];
        d.style.setProperty("--dx", (Math.random()*320 - 160) + "px");
        d.style.setProperty("--dy", (Math.random()*320 - 220) + "px");
        document.body.appendChild(d);
        setTimeout(()=>d.remove(), 1400);
      }
    }
  </script>
</body>
</html>
